---
title: 图解HTTP - 打卡第四天
date: 2018-11-15 15:45:05
tags: card-4、
---

# 图解 HTTP

## Chapter Five

### 与 HTTP 协作的 Web 服务器

在互联网上，域名通过 DNS 服务映射到 IP 地址(域名解析)之后访问目标网站， 如果一台服务器托管了两个域名，那么当接收到请求时就需要弄清楚究竟是要访问哪个域名

<img src='https://github.com/PDKSophia/read-booklist/raw/master/book-image/http-17.png' width=550 height=300 />

### 通信数据转发程序 : 代理、网关、隧道

- 代理: 是一种有转发功能的应用程序，扮演着位于客户端服务器端的中间人角色，转发由客户端发送请求并转发给服务器端，同时也接受服务器返回的响应并转发给客户端

- 网关: 是转发其他服务器通信数据的服务器，接收从客户端发送来的请求时，它就像自己拥有资源的原服务器一样对请求进行处理。有时客户端可能都不会察觉，自己的通信目标是一个网关

- 隧道: 隧道是在相隔甚远的客户端和服务器两者之间进行中转，并保持双方通信连接的应用程序

#### 代理

<strong>每次通过代理服务器转发请求或响应时，会追加写入 Via 首部信息</strong>

<img src='https://github.com/PDKSophia/read-booklist/raw/master/book-image/http-17.png' width=550 height=300 />

代理两种基准分类: 一种 `是否使用缓存` ，另一种 `是否会修改报文`

- 缓存代理 : 代理转发响应时，缓存代理会预先将资源的副本(缓存)保存在代理服务器上，当再次接受到相同资源的请求时，就可以不从源服务器那里获取资源，而是将之前缓存的资源作为响应返回

- 透明代理 : 转发请求或响应时，不对报文做任何加工的代理类型被称为透明代理。反之，对报文内容进行加工的代理被称为非透明代理

#### 网关

<storng>网关能使通信线路上的服务器提供非 HTTP 协议服务</strong>

利用网关能提高通信的安全性，因为可以在客户端与网关之间的通信线路上加密以确保连接的安全

#### 隧道

隧道可按要求建立起一条与其他服务器的通信线路，届时使用 SSL 等加密手段进行通信。<strong>隧道的目的是确保客户端能与服务器进行安全的通信</strong>

隧道本身不回去解析 HTTP 请求，也就是说，请求保存原样中转给之前的服务器。隧道会在通信双方断开连接时结束

### 保存资源的缓存

缓存是指代理服务器或客户端本地磁盘内保存的资源副本。利用缓存可减少对源服务器的访问，因此也就节省了通信流量和通信时间

缓存服务器是代理服务器的一种，并归类在缓存代理类型中

<img src='https://github.com/PDKSophia/read-booklist/raw/master/book-image/http-19.png' width=600 height=520 />

缓存服务器的优势在于可避免多次从源服务器转发资源，因此客户端可就近从缓存服务器上获取资源。而源服务器也不必多次处理相同的请求了
